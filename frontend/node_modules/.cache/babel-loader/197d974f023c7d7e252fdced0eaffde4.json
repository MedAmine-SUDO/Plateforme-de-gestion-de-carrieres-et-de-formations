{"ast":null,"code":"var _jsxFileName = \"/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport { logoutUser } from \"../../actions/AuthActions\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { useStyles } from \"./NavBarStyle\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport RootRef from '@material-ui/core/RootRef';\n\nconst NavBar = () => {\n  const domRef = React.useRef();\n  React.useEffect(() => {\n    console.log(domRef.current); // DOM node\n  }, []);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const authDetail = useSelector(state => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n  }, [authDetail.isAuthenticated]);\n\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    Cookies.set(\"token\", \"\");\n  };\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/React.createElement(RootRef, {\n    rootRef: domRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"News\"), authDetail.user ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    onClick: handleMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: open,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"My account\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Logout\"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    className: classes.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signup\",\n    className: classes.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Sign Up\")))))));\n};\n\nexport default NavBar;","map":{"version":3,"sources":["/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js"],"names":["React","useEffect","useState","useDispatch","useSelector","NavLink","Cookies","jwtDecode","setCurrentUser","logoutUser","AppBar","Toolbar","Typography","Button","IconButton","MenuIcon","useStyles","AccountCircle","MenuItem","Menu","RootRef","NavBar","domRef","useRef","console","log","current","anchorEl","setAnchorEl","open","Boolean","classes","dispatch","authDetail","state","auth","get","isAuthenticated","handleLogout","set","handleMenu","event","currentTarget","handleClose","root","menuButton","title","user","vertical","horizontal","link"],"mappings":"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","sourcesContent":["import React, { useEffect,useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport { logoutUser } from \"../../actions/AuthActions\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { useStyles } from \"./NavBarStyle\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport RootRef from '@material-ui/core/RootRef';\n\nconst NavBar = () => {\n  const domRef = React.useRef();\n  React.useEffect(() => {\n    console.log(domRef.current); // DOM node\n  }, []);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const authDetail = useSelector((state) => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n  }, [authDetail.isAuthenticated]);\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    Cookies.set(\"token\", \"\");\n  };\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <RootRef rootRef={domRef}>\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            News\n          </Typography>\n          {authDetail.user ? (\n            <>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n                onClick={handleMenu}\n\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\n                <MenuItem onClick={handleClose}>My account</MenuItem>\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n              </Menu>\n            </>\n          ) : (\n            <>\n              <NavLink to=\"/signin\" className={classes.link}>\n                <Button color=\"inherit\">Sign In</Button>\n              </NavLink>\n              <NavLink to=\"/signup\" className={classes.link}>\n                <Button color=\"inherit\">Sign Up</Button>\n              </NavLink>\n            </>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n    </RootRef>\n  );\n};\n\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}