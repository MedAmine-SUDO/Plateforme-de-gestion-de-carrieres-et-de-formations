{"ast":null,"code":"var _jsxFileName = \"/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport useSession from \"react-session-hook\";\n\nconst NavBar = () => {\n  const session = useSession();\n  const dispatch = useDispatch();\n  const authDetail = useSelector(state => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      session.setSession({\n        token: Cookies.get(\"token\")\n      });\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n  }, [authDetail.user]);\n\n  const handleLogout = () => {\n    session.removeSession();\n    Cookies.set('token', null);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-btns col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, session.isAuthenticated ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, authDetail.current_user ? authDetail.current_user.sub : '', session.profile.name, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Sign In\"))));\n};\n\nexport default NavBar;","map":{"version":3,"sources":["/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js"],"names":["React","useEffect","useDispatch","useSelector","NavLink","Cookies","jwtDecode","setCurrentUser","useSession","NavBar","session","dispatch","authDetail","state","auth","get","setSession","token","user","handleLogout","removeSession","set","isAuthenticated","current_user","sub","profile","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMU,UAAU,GAAGT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAA9B;AACAb,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,OAAO,CAACU,GAAR,CAAY,OAAZ,CAAJ,EAA0B;AACxBL,MAAAA,OAAO,CAACM,UAAR,CAAmB;AAAEC,QAAAA,KAAK,EAAEZ,OAAO,CAACU,GAAR,CAAY,OAAZ;AAAT,OAAnB;AACAJ,MAAAA,QAAQ,CAACJ,cAAc,CAACF,OAAD,EAAUC,SAAV,CAAf,CAAR;AACD;AACF,GALQ,EAKN,CAACM,UAAU,CAACM,IAAZ,CALM,CAAT;;AAMA,QAAMC,YAAY,GAAG,MAAK;AACxBT,IAAAA,OAAO,CAACU,aAAR;AACAf,IAAAA,OAAO,CAACgB,GAAR,CAAY,OAAZ,EAAqB,IAArB;AACD,GAHD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,OAAO,CAACY,eAAR,gBACC;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,UAAU,CAACW,YAAX,GAAyBX,UAAU,CAACW,YAAX,CAAwBC,GAAjD,GAAqD,EADxD,EAEGd,OAAO,CAACe,OAAR,CAAgBC,IAFnB,eAGE;AAAQ,IAAA,OAAO,EAAEP,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADD,gBAOC,uDACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,eAIE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAJF,CARJ,CADF;AAoBD,CAlCD;;AAoCA,eAAeV,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport useSession from \"react-session-hook\";\n\nconst NavBar = () => {\n  const session = useSession();\n  const dispatch = useDispatch();\n  const authDetail = useSelector((state) => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      session.setSession({ token: Cookies.get(\"token\") })\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n  }, [authDetail.user]);\n  const handleLogout = () =>{\n    session.removeSession();\n    Cookies.set('token', null);\n  }\n  return (\n    <div className=\"auth-btns col-md-7\">\n      {session.isAuthenticated ? (\n        <div className=\"float-right mt-3\">\n          {authDetail.current_user? authDetail.current_user.sub:''}\n          {session.profile.name}\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      ) : (\n        <>\n          <NavLink to=\"/signup\">\n            <button className=\"btn sign-up\">Sign Up</button>\n          </NavLink>\n          <NavLink to=\"/signin\">\n            <button className=\"btn sign-in\">Sign In</button>\n          </NavLink>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}