{"ast":null,"code":"import { apiCallAuth } from \"../apiCall/index\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nexport const signUp = user => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    const res = await apiCallAuth(\"/auth/signup\", \"post\", user);\n    dispatch({\n      type: \"SIGNUP_USER_SUCCESS\",\n      payload: res.data\n    });\n    return res;\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    return dispatch({\n      type: \"SIGNUP_USER_FAILURE\",\n      payload: err.response.data\n    });\n  }\n};\nexport const setCurrentUser = (Cookies, jwtDecode) => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    const payload = jwtDecode(Cookies.get(\"token\"));\n    dispatch({\n      type: \"SET_CURRENT_USER_SUCCESS\",\n      payload\n    });\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    dispatch({\n      type: \"SET_CURRENT_USER_FAILURE\",\n      payload: err.response.data\n    });\n  }\n};\nexport const signIn = user => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    const res = await apiCallAuth(\"/auth/signin\", \"post\", user);\n    dispatch({\n      type: \"SIGNIN_USER_SUCCESS\",\n      payload: res.data\n    });\n    Cookies.set(\"token\", res.data.accessToken);\n    dispatch(setCurrentUser(Cookies, jwtDecode));\n    return res;\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    return dispatch({\n      type: \"SIGNIN_USER_FAILURE\",\n      payload: err.response.data\n    });\n  }\n};\nexport const logoutUser = () => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    dispatch({\n      type: \"LOGOUT_USER_SUCCESS\"\n    });\n    dispatch({\n      type: \"PROFILE_LOADING\"\n    });\n    dispatch({\n      type: \"CLEAR_PROFILE\"\n    });\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    dispatch({\n      type: \"PROFILE_END_LOADING\"\n    });\n    dispatch({\n      type: \"SET_CURRENT_USER_FAILURE\",\n      payload: err.response.data\n    });\n  }\n};\nexport const getAllUsers = () => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    const res = await apiCallAuth(\"/auth/all\", \"get\");\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    return res;\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    dispatch({\n      type: \"SET_CURRENT_USER_FAILURE\",\n      payload: err\n    });\n  }\n};\nexport const deleteUser = id => async dispatch => {\n  try {\n    dispatch({\n      type: \"AUTH_LOADING\"\n    });\n    const res = await apiCallAuth(\"/auth/\" + id, \"delete\");\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    return res;\n  } catch (err) {\n    dispatch({\n      type: \"AUTH_END_LOADING\"\n    });\n    dispatch({\n      type: \"SET_CURRENT_USER_FAILURE\",\n      payload: err\n    });\n  }\n};","map":{"version":3,"sources":["/home/medamine/Desktop/Plateforme-de-gestion-de-carrieres-et-de-formations/frontend/src/actions/AuthActions.js"],"names":["apiCallAuth","Cookies","jwtDecode","signUp","user","dispatch","type","res","payload","data","err","response","setCurrentUser","get","signIn","set","accessToken","logoutUser","getAllUsers","deleteUser","id"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,MAAMC,MAAM,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AAClD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAMC,GAAG,GAAG,MAAMP,WAAW,CAAC,cAAD,EAAiB,MAAjB,EAAyBI,IAAzB,CAA7B;AACAC,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,qBAAR;AAA+BE,MAAAA,OAAO,EAAED,GAAG,CAACE;AAA5C,KAAD,CAAR;AACA,WAAOF,GAAP;AACD,GALD,CAKE,OAAOG,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,WAAOD,QAAQ,CAAC;AACdC,MAAAA,IAAI,EAAE,qBADQ;AAEdE,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF;AAFR,KAAD,CAAf;AAID;AACF,CAbM;AAeP,OAAO,MAAMG,cAAc,GAAG,CAACX,OAAD,EAAUC,SAAV,KAAwB,MAAOG,QAAP,IAAoB;AACxE,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAME,OAAO,GAAGN,SAAS,CAACD,OAAO,CAACY,GAAR,CAAY,OAAZ,CAAD,CAAzB;AACAR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,0BAAR;AAAoCE,MAAAA;AAApC,KAAD,CAAR;AACD,GAJD,CAIE,OAAOE,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,0BAAR;AAAoCE,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF;AAA1D,KAAD,CAAR;AACD;AACF,CATM;AAWP,OAAO,MAAMK,MAAM,GAAIV,IAAD,IAAU,MAAOC,QAAP,IAAoB;AAClD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAMC,GAAG,GAAG,MAAMP,WAAW,CAAC,cAAD,EAAiB,MAAjB,EAAyBI,IAAzB,CAA7B;AACAC,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,qBAAR;AAA+BE,MAAAA,OAAO,EAAED,GAAG,CAACE;AAA5C,KAAD,CAAR;AACAR,IAAAA,OAAO,CAACc,GAAR,CAAY,OAAZ,EAAqBR,GAAG,CAACE,IAAJ,CAASO,WAA9B;AACAX,IAAAA,QAAQ,CAACO,cAAc,CAACX,OAAD,EAAUC,SAAV,CAAf,CAAR;AACA,WAAOK,GAAP;AACD,GAPD,CAOE,OAAOG,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,WAAOD,QAAQ,CAAC;AACdC,MAAAA,IAAI,EAAE,qBADQ;AAEdE,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF;AAFR,KAAD,CAAf;AAID;AACF,CAfM;AAgBP,OAAO,MAAMQ,UAAU,GAAG,MAAM,MAAOZ,QAAP,IAAoB;AAClD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GALD,CAKE,OAAOI,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,0BAAR;AAAoCE,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF;AAA1D,KAAD,CAAR;AACD;AACF,CAXM;AAYP,OAAO,MAAMS,WAAW,GAAG,MAAM,MAAOb,QAAP,IAAoB;AACnD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAMC,GAAG,GAAG,MAAMP,WAAW,CAAC,WAAD,EAAc,KAAd,CAA7B;AACAK,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,WAAOC,GAAP;AACD,GALD,CAKE,OAAOG,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,0BAAR;AAAoCE,MAAAA,OAAO,EAAEE;AAA7C,KAAD,CAAR;AACD;AACF,CAVM;AAWP,OAAO,MAAMS,UAAU,GAAIC,EAAD,IAAQ,MAAOf,QAAP,IAAoB;AACpD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,UAAMC,GAAG,GAAG,MAAMP,WAAW,CAAC,WAASoB,EAAV,EAAc,QAAd,CAA7B;AACAf,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,WAAOC,GAAP;AACD,GALD,CAKE,OAAOG,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAD,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,0BAAR;AAAoCE,MAAAA,OAAO,EAAEE;AAA7C,KAAD,CAAR;AACD;AACF,CAVM","sourcesContent":["import { apiCallAuth } from \"../apiCall/index\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\n\nexport const signUp = (user) => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    const res = await apiCallAuth(\"/auth/signup\", \"post\", user);\n    dispatch({ type: \"SIGNUP_USER_SUCCESS\", payload: res.data });\n    return res;\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    return dispatch({\n      type: \"SIGNUP_USER_FAILURE\",\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const setCurrentUser = (Cookies, jwtDecode) => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    const payload = jwtDecode(Cookies.get(\"token\"));\n    dispatch({ type: \"SET_CURRENT_USER_SUCCESS\", payload });\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    dispatch({ type: \"SET_CURRENT_USER_FAILURE\", payload: err.response.data });\n  }\n};\n\nexport const signIn = (user) => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    const res = await apiCallAuth(\"/auth/signin\", \"post\", user);\n    dispatch({ type: \"SIGNIN_USER_SUCCESS\", payload: res.data });\n    Cookies.set(\"token\", res.data.accessToken);\n    dispatch(setCurrentUser(Cookies, jwtDecode));\n    return res;\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    return dispatch({\n      type: \"SIGNIN_USER_FAILURE\",\n      payload: err.response.data,\n    });\n  }\n};\nexport const logoutUser = () => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    dispatch({ type: \"LOGOUT_USER_SUCCESS\" });\n    dispatch({ type: \"PROFILE_LOADING\" });\n    dispatch({ type: \"CLEAR_PROFILE\" });\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    dispatch({ type: \"PROFILE_END_LOADING\" });\n    dispatch({ type: \"SET_CURRENT_USER_FAILURE\", payload: err.response.data });\n  }\n};\nexport const getAllUsers = () => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    const res = await apiCallAuth(\"/auth/all\", \"get\");\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    return res;\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    dispatch({ type: \"SET_CURRENT_USER_FAILURE\", payload: err });\n  }\n};\nexport const deleteUser = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: \"AUTH_LOADING\" });\n    const res = await apiCallAuth(\"/auth/\"+id, \"delete\");\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    return res;\n  } catch (err) {\n    dispatch({ type: \"AUTH_END_LOADING\" });\n    dispatch({ type: \"SET_CURRENT_USER_FAILURE\", payload: err });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}