{"ast":null,"code":"var _jsxFileName = \"/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport useSession from \"react-session-hook\";\nimport { logoutUser } from \"../../actions/AuthActions\";\n\nconst NavBar = () => {\n  const session = useSession();\n  const dispatch = useDispatch();\n  const authDetail = useSelector(state => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      session.setSession({\n        token: Cookies.get(\"token\")\n      });\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n\n    console.log(session.profile);\n  }, [authDetail.user]);\n\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    session.removeSession();\n    Cookies.set('token', null);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-btns col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, session.isAuthenticated ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, authDetail.current_user ? authDetail.current_user.sub : '', session.profile.name, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Sign In\"))));\n};\n\nexport default NavBar;","map":{"version":3,"sources":["/home/akrem/Desktop/frontend/src/containers/layouts/NavBar.js"],"names":["React","useEffect","useDispatch","useSelector","NavLink","Cookies","jwtDecode","setCurrentUser","useSession","logoutUser","NavBar","session","dispatch","authDetail","state","auth","get","setSession","token","console","log","profile","user","handleLogout","removeSession","set","isAuthenticated","current_user","sub","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAASC,UAAT,QAA2B,2BAA3B;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAMI,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,UAAU,GAAGV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAA9B;AACAd,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,OAAO,CAACW,GAAR,CAAY,OAAZ,CAAJ,EAA0B;AACxBL,MAAAA,OAAO,CAACM,UAAR,CAAmB;AAAEC,QAAAA,KAAK,EAAEb,OAAO,CAACW,GAAR,CAAY,OAAZ;AAAT,OAAnB;AACAJ,MAAAA,QAAQ,CAACL,cAAc,CAACF,OAAD,EAAUC,SAAV,CAAf,CAAR;AACD;;AACDa,IAAAA,OAAO,CAACC,GAAR,CAAYT,OAAO,CAACU,OAApB;AACD,GANQ,EAMN,CAACR,UAAU,CAACS,IAAZ,CANM,CAAT;;AAOA,QAAMC,YAAY,GAAG,MAAK;AACxBX,IAAAA,QAAQ,CAACH,UAAU,EAAX,CAAR;AACAE,IAAAA,OAAO,CAACa,aAAR;AACAnB,IAAAA,OAAO,CAACoB,GAAR,CAAY,OAAZ,EAAqB,IAArB;AACD,GAJD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,OAAO,CAACe,eAAR,gBACC;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,UAAU,CAACc,YAAX,GAAyBd,UAAU,CAACc,YAAX,CAAwBC,GAAjD,GAAqD,EADxD,EAEGjB,OAAO,CAACU,OAAR,CAAgBQ,IAFnB,eAGE;AAAQ,IAAA,OAAO,EAAEN,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADD,gBAOC,uDACE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,eAIE,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAJF,CARJ,CADF;AAoBD,CApCD;;AAsCA,eAAeb,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport jwtDecode from \"jwt-decode\";\nimport { setCurrentUser } from \"../../actions/AuthActions\";\nimport useSession from \"react-session-hook\";\nimport { logoutUser } from \"../../actions/AuthActions\"\n\nconst NavBar = () => {\n  const session = useSession();\n  const dispatch = useDispatch();\n  const authDetail = useSelector((state) => state.auth);\n  useEffect(() => {\n    if (Cookies.get(\"token\")) {\n      session.setSession({ token: Cookies.get(\"token\") })\n      dispatch(setCurrentUser(Cookies, jwtDecode));\n    }\n    console.log(session.profile)\n  }, [authDetail.user]);\n  const handleLogout = () =>{\n    dispatch(logoutUser());\n    session.removeSession();\n    Cookies.set('token', null);\n  }\n  return (\n    <div className=\"auth-btns col-md-7\">\n      {session.isAuthenticated ? (\n        <div className=\"float-right mt-3\">\n          {authDetail.current_user? authDetail.current_user.sub:''}\n          {session.profile.name}\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      ) : (\n        <>\n          <NavLink to=\"/signup\">\n            <button className=\"btn sign-up\">Sign Up</button>\n          </NavLink>\n          <NavLink to=\"/signin\">\n            <button className=\"btn sign-in\">Sign In</button>\n          </NavLink>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}